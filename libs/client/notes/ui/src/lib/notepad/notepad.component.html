<app-notepad-template [hideTabs]="hideTabs">
  <ng-container tabs>
    <p class="mb-2 text-[10px] uppercase">quick scroll</p>
    <app-scroll-tab
      (eyeClick)="toggleDisabled(tab, i)"
      (labelClick)="setActiveTab(tab)"
      *rxFor="let tab of tabs(); trackBy: 'id'; let i = index"
      [label]="tab.label"
      [showEye]="tab.canBeDisabled"
      [state]="tab.state"
    ></app-scroll-tab>
  </ng-container>

  <div
    [class.opacity-10]="!visible()"
    class="relative h-full overflow-auto"
    controls
  >
    <form
      [formGroup]="notepadFormGroup"
      class="ml-2 mr-1 flex min-h-full flex-col gap-4 transition-opacity duration-150 ease-in-out"
    >
      <ng-container
        *rxFor="
          let control of visibleControls() | keyvalue: comparatorFn;
          trackBy: 'key';
          renderCallback: itemsRendered
        "
      >
        <ng-container
          [ngComponentOutletInjector]="
            control.key | controlInjector: control.value
          "
          [ngComponentOutlet]="
            controlResolver.resolve(control.value.type) | async
          "
        ></ng-container>
      </ng-container>
    </form>
  </div>
</app-notepad-template>
