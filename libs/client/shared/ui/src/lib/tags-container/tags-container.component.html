<ui-tiles-container
  class="block"
  (appOnResize)="onContainerWidthChange($event)"
  [itemTemplate]="itemTemplate"
  [rows]="rows"
  [tiles]="tags"
  [tooltipTemplate]="tooltipTemplate"
  [trackBy]="trackByFn"
  [staticTilesWidth]="tagsWidth"
  [staticTooltipWidth]="28"
  [staticContainerWidth]="width ?? containerWidth()"
/>

<ng-template #itemTemplate let-tag>
  <ui-tag
    [icon]="tag.icon"
    [label]="tag.name"
    [style]="tag.style"
    [size]="tag.size"
  />
</ng-template>

<ng-template #tooltipTemplate let-hiddenTilesLength>
  @if (hiddenTilesLength) {
    <p
      [tooltipTemplate]="tooltip"
      tooltipClass="tag-tooltip"
      class="text-disabledText w-6 cursor-pointer"
      kendoTooltip
      title="test"
    >
      {{ hiddenTilesLength }}+
    </p>
  }
</ng-template>

<ng-template #tooltip>
  <div class="flex flex-col gap-2">
    @for (tag of tags; track tag.id) {
      <ui-tag
        [label]="tag.name"
        [wrap]="false"
        [icon]="tag.icon"
        [size]="tag.size"
        [style]="tag.style"
      />
    }
  </div>
</ng-template>
