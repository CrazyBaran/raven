<kendo-formfield class="!flex min-h-full flex-col">
  <kendo-label
    [for]="control.controlKey"
    [text]="control.config.name"
    labelCssClass="k-form-label text-secondary-900 text-sm"
  ></kendo-label>
  <kendo-editor
    (keydown.shift.tab)="removeIndent($event)"
    (keydown.tab)="addIndent($event)"
    (focus)="setFocus()"
    [formControlName]="control.controlKey"
    [id]="control.controlKey"
    [iframe]="false"
    [plugins]="myPlugins"
    [schema]="mySchema"
    [value]="control.config.value!"
    class="grow-1 relative overflow-hidden"
  >
    <kendo-toolbar
      [class.!hidden]="!focused()"
      class="space border-top order-last !-mx-[1px] !-mb-[1px] flex gap-2 !border-b-0 !bg-white"
    >
      <kendo-toolbar-dropdownlist
        kendoEditorFormat
      ></kendo-toolbar-dropdownlist>
      <kendo-toolbar-buttongroup class="space-x-2">
        <kendo-toolbar-button kendoEditorBoldButton></kendo-toolbar-button>
        <kendo-toolbar-button kendoEditorItalicButton></kendo-toolbar-button>
        <kendo-toolbar-button kendoEditorUnderlineButton></kendo-toolbar-button>
        <kendo-toolbar-button
          kendoEditorStrikethroughButton
        ></kendo-toolbar-button>
      </kendo-toolbar-buttongroup>
      <kendo-toolbar-colorpicker
        kendoEditorForeColor
        view="gradient"
      ></kendo-toolbar-colorpicker>
      <kendo-toolbar-colorpicker
        kendoEditorBackColor
        view="gradient"
      ></kendo-toolbar-colorpicker>
      <kendo-toolbar-buttongroup class="space-x-2">
        <kendo-toolbar-button kendoEditorAlignLeftButton></kendo-toolbar-button>
        <kendo-toolbar-button
          kendoEditorAlignCenterButton
        ></kendo-toolbar-button>
        <kendo-toolbar-button
          kendoEditorAlignRightButton
        ></kendo-toolbar-button>
        <kendo-toolbar-button
          kendoEditorAlignJustifyButton
        ></kendo-toolbar-button>
      </kendo-toolbar-buttongroup>

      <kendo-toolbar-buttongroup class="space-x-2">
        <kendo-toolbar-button
          kendoEditorInsertUnorderedListButton
        ></kendo-toolbar-button>
        <kendo-toolbar-button
          kendoEditorInsertOrderedListButton
        ></kendo-toolbar-button>
        <kendo-toolbar-button kendoEditorOutdentButton></kendo-toolbar-button>
        <kendo-toolbar-button kendoEditorIndentButton></kendo-toolbar-button>
      </kendo-toolbar-buttongroup>
    </kendo-toolbar>
  </kendo-editor>
  <kendo-formerror *ngFor="let error of formControl.errors ?? [] | keyvalue">
    {{ error.key | errorMessage: error.value }}
  </kendo-formerror>
</kendo-formfield>
