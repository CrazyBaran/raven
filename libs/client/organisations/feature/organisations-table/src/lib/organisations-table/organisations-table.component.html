<app-page-template
  pageIcon="fa-regular fa-cart-shopping"
  pageName="All Companies"
>
  <div class="flex items-center gap-3" page-header-actions>
    @if (vm().lastChecked) {
      <p class="text-subtle-text text-xs">
        Last DW sync: {{ vm().lastChecked | date: 'dd/MM/yyyy hh:mm a' }}
      </p>
    }
    <app-text-box-navigation [model]="vm().queryModel" />
  </div>
  <div
    class="flex h-[calc(100%+1.5em)] w-[calc(100%+1.5em)] flex-col gap-6"
    page-content
  >
    <app-quick-filters-template>
      <div class="flex gap-6">
        <app-buttongroup-navigation [model]="vm().buttonGroupNavigation" />

        @for (
          dropdown of vm().navigationDropdowns;
          track dropdown.queryParamName
        ) {
          <app-dropdown-navigation [model]="dropdown" />
        }
      </div>
    </app-quick-filters-template>

    <div class="flex-1 shrink-0 overflow-hidden">
      <app-organisations-table-view
        [model]="vm().tableModel"
        class="block h-full"
      />
    </div>
  </div>
</app-page-template>
