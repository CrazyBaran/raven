<form class="k-form flex h-full flex-col gap-4" [formGroup]="notepadForm">
  <div class="grid grid-cols-[1fr_360px_1fr] gap-2">
    <!--        TEMPLATES       -->
    <kendo-dropdownlist
      formControlName="template"
      [data]="templates()"
      [textField]="templateDropdownConfig.textField"
      [defaultItem]="defaultTemplate"
      [valueField]="templateDropdownConfig.valueField"
      [loading]="!templateLoading()!"
      fillMode="outline"
    ></kendo-dropdownlist>

    <!--        TAGS       -->
    <app-tag-dropdown
      (openTagDialog)="openTagDialog($event)"
      (tagClicked)="addTag($event)"
    >
    </app-tag-dropdown>

    <!--        SHARE       -->
    <kendo-multiselect
      [data]="[]"
      textField="text"
      placeholder="Share with..."
      valueField="id"
      [checkboxes]="true"
      fillMode="outline"
      kendoMultiSelectSummaryTag
    >
      <ng-template kendoMultiSelectGroupTagTemplate let-dataItems>
        <p>Share with...</p>
      </ng-template>
    </kendo-multiselect>
  </div>

  <div class="grid grid-cols-[auto_1fr] gap-2" *ngIf="tags.length">
    <p class="text-[10px] uppercase leading-5">added tags:</p>
    <div class="flex flex-wrap gap-x-0.5 gap-y-1">
      <app-tag
        *ngFor="let tag of tags"
        [label]="tag.name"
        icon="fa-solid fa-tag"
        (tagRemove)="removeTag(tag)"
        [ngClass]="{
          'text-error': tag.type === 'company' || tag.type === 'opportunity',
          'text-success': tag.type === 'industry',
          'text-warning': tag.type === 'investor',
          'text-primary-900': tag.type === 'businessModel'
        }"
      ></app-tag>
    </div>
  </div>
  <!--  // 'text-error': tag.type === 'opportunity',-->

  <div class="grow overflow-hidden">
    <app-notepad
      [config]="config()"
      [notepadFormGroup]="notepadForm.controls.notes"
      [hideTabs]="isDefaultTemplate()"
    ></app-notepad>
  </div>

  <div class="k-actions k-actions-end">
    <button kendoButton type="button" size="large">Cancel</button>
    <button
      kendoButton
      iconClass="fa-solid fa-plus"
      themeColor="primary"
      size="large"
      [disabled]="!notepadForm.valid"
      (click)="submit()"
    >
      Add Note
    </button>
  </div>
</form>

<ng-container #container></ng-container>
